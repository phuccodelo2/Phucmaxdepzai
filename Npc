--// RSPY with UI & Copy Button
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")

-- UI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 400, 0, 300)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)

local UIListLayout = Instance.new("UIListLayout", MainFrame)
UIListLayout.FillDirection = Enum.FillDirection.Vertical
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "Remote Spy"
Title.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)

local Scroll = Instance.new("ScrollingFrame", MainFrame)
Scroll.Size = UDim2.new(1, 0, 1, -30)
Scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
Scroll.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Scroll.ScrollBarThickness = 6

local UIList = Instance.new("UIListLayout", Scroll)
UIList.FillDirection = Enum.FillDirection.Vertical
UIList.SortOrder = Enum.SortOrder.LayoutOrder

-- Hook
local mt = getrawmetatable(game)
setreadonly(mt, false)
local old = mt.__namecall

mt.__namecall = newcclosure(function(self, ...)
    local method = getnamecallmethod()
    if method == "FireServer" or method == "InvokeServer" then
        local args = {...}
        local line = tostring(self) .. " : " .. HttpService:JSONEncode(args)

        -- UI Item
        local item = Instance.new("Frame", Scroll)
        item.Size = UDim2.new(1, 0, 0, 25)
        item.BackgroundColor3 = Color3.fromRGB(45, 45, 45)

        local label = Instance.new("TextLabel", item)
        label.Size = UDim2.new(0.8, 0, 1, 0)
        label.TextXAlignment = Enum.TextXAlignment.Left
        label.Text = line
        label.BackgroundTransparency = 1
        label.TextColor3 = Color3.fromRGB(255, 255, 255)

        local copyBtn = Instance.new("TextButton", item)
        copyBtn.Size = UDim2.new(0.2, 0, 1, 0)
        copyBtn.Position = UDim2.new(0.8, 0, 0, 0)
        copyBtn.Text = "Copy"
        copyBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
        copyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        copyBtn.MouseButton1Click:Connect(function()
            setclipboard(line)
        end)

        Scroll.CanvasSize = UDim2.new(0, 0, 0, UIList.AbsoluteContentSize.Y)
    end
    return old(self, ...)
end)
