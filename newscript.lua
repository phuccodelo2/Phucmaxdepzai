-- PHUCMAX AutoFruit module (START / STOP chắc chắn)if getgenv()._phucmax_auto_loaded then return endgetgenv()._phucmax_auto_loaded = true--// Serviceslocal Players = game:GetService("Players")local RunService = game:GetService("RunService")local HttpService = game:GetService("HttpService")local TeleportService = game:GetService("TeleportService")local Workspace = game:GetService("Workspace")local CoreGui = game:GetService("CoreGui")local LocalPlayer = Players.LocalPlayer--// GLOBAL FLAGS (mặc định bật)getgenv().ScriptRunning = true      -- master flaggetgenv().AutoFruit = true         -- tìm + nhặt tráigetgenv().AutoHop = true           -- hop server khi ko có tráigetgenv().CheckDelay = 0.5         -- check nhanhgetgenv().HopDelay = 4             -- đợi 4s trước khi hop--// Internal trackerslocal Connections = {}            -- lưu kết nối để disconnectlocal Billboards = {}             -- lưu billboard để xóalocal joinedServers = { [game.JobId] = true }local fruitLoopRunning = false--// Helperslocal function trackConn(conn)    if conn and type(conn.Disconnect) == "function" then        table.insert(Connections, conn)    endendlocal function disconnectAll()    for _, conn in ipairs(Connections) do        pcall(function() conn:Disconnect() end)    end    Connections = {}endlocal function safeDestroy(inst)    pcall(function()        if inst and inst.Destroy then inst:Destroy() end    end)endlocal function clearBillboards()    for _, b in ipairs(Billboards) do        safeDestroy(b)    end    Billboards = {}endlocal function rainbowColor(hueShift)    return Color3.fromHSV((tick()*0.28 + (hueShift or 0)) % 1, 1, 1)end--// ESP (Billboard) - attach to a BasePartlocal function createESP(part, text)    if not part or not part.Parent then return end    if part:FindFirstChild("FruitESP") then        local gui = part:FindFirstChild("FruitESP")        local lbl = gui:FindFirstChild("Label")        if lbl then return lbl end    end    local billboard = Instance.new("BillboardGui")    billboard.Name = "FruitESP"    billboard.Adornee = part    billboard.AlwaysOnTop = true    billboard.Size = UDim2.new(0,200,0,40)    billboard.StudsOffset = Vector3.new(0,2,0)    local label = Instance.new("TextLabel")    label.Name = "Label"    label.Size = UDim2.new(1,0,1,0)    label.BackgroundTransparency = 1    label.Text = tostring(text or "Fruit")    label.Font = Enum.Font.GothamBold    label.TextScaled = true    label.TextColor3 = rainbowColor(0)    label.Parent = billboard    billboard.Parent = part    table.insert(Billboards, billboard)    -- update màu rainbow, tự disconnect khi script stop    local conn = RunService.RenderStepped:Connect(function()        if not getgenv().ScriptRunning then            pcall(function() conn:Disconnect() end)            return        end        if label and label.Parent then            label.TextColor3 = rainbowColor(0)        end    end)    trackConn(conn)    return labelend--// Server hop (flood-safe: tìm server chưa vào, teleport)local function serverHop()    if not getgenv().ScriptRunning then return end    local cursor = ""    while getgenv().ScriptRunning do        local ok, raw = pcall(function()            local url = string.format("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=100%s",                game.PlaceId,                cursor ~= "" and "&cursor=" .. cursor or ""            )            return game:HttpGet(url)        end)        if not ok or not raw then return end        local ok2, data = pcall(function() return HttpService:JSONDecode(raw) end)        if not ok2 or type(data) ~= "table" then return end        if data.data then            for _, s in ipairs(data.data) do                if not getgenv().ScriptRunning then return end                if type(s) == "table" and s.id and s.id ~= game.JobId and s.playing < s.maxPlayers then                    if not joinedServers[s.id] then                        joinedServers[s.id] = true                        pcall(function()                            TeleportService:TeleportToPlaceInstance(game.PlaceId, s.id, LocalPlayer)                        end)                        return                    end                end            end        end        if not data.nextPageCursor then break end        cursor = data.nextPageCursor    endend--// Core fruit loop (check nhanh, teleport, esp, hop after delay)local function startFruitLoop()    if fruitLoopRunning then return end    fruitLoopRunning = true    task.spawn(function()        while getgenv().ScriptRunning do            local foundFruit = false            if getgenv().AutoFruit then                -- scan descendants quickly (catch Tools in containers)                for _, obj in ipairs(Workspace:GetDescendants()) do                    if not getgenv().ScriptRunning then break end                    if obj:IsA("Tool") and obj:FindFirstChild("Handle") then                        foundFruit = true                        -- create esp and teleport                        createESP(obj.Handle, obj.Name)                        pcall(function()                            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")                            if hrp and obj.Handle and obj.Handle.Position then                                -- dùng CFrame (nhanh & ít dính MoveTo issues)                                hrp.CFrame = CFrame.new(obj.Handle.Position + Vector3.new(0,5,0))                            end                        end)                        -- đợi 1s để nhặt                        local t = 0                        while t < 1 and getgenv().ScriptRunning do                            task.wait(0.1); t = t + 0.1                        end                    end                end            end            if not found and getgenv().AutoHop and getgenv().ScriptRunning then                -- chờ HopDelay nhưng re-check liên tục, nếu xuất hiện fruit thì hủy hop                local waited = 0                local willHop = true                while waited < getgenv().HopDelay and getgenv().ScriptRunning do                    -- re-check presence                    local any = false                    for _, o in ipairs(Workspace:GetDescendants()) do                        if o:IsA("Tool") and o:FindFirstChild("Handle") then                            any = true; break                        end                    end                    if any then                        willHop = false                        break                    end                    task.wait(0.25); waited = waited + 0.25                end                if willHop and getgenv().ScriptRunning then                    -- hop server                    pcall(serverHop)                end            end            -- sleep small amount between scans            local delayT = getgenv().CheckDelay or 0.5            local slept = 0            while slept < delayT and getgenv().ScriptRunning do                task.wait(0.1); slept = slept + 0.1            end        end        fruitLoopRunning = false    end)end--// STOP/START + cleanuplocal function StopAll()    getgenv().ScriptRunning = false    getgenv().AutoFruit = false    getgenv().AutoHop = false    -- disconnect connections & clear billboards    disconnectAll()    clearBillboards()    -- destroy known UI (keeps stop button)    pcall(function()        if CoreGui:FindFirstChild("PHUCMAX_UI") then CoreGui.PHUCMAX_UI:Destroy() end    end)    warn("[PHUCMAX] All stopped")endlocal function StartAll()    if getgenv().ScriptRunning then return end    -- reset flags (mặc định bật auto)    getgenv().ScriptRunning = true    getgenv().AutoFruit = true    getgenv().AutoHop = true    -- start loops    startFruitLoop()    warn("[PHUCMAX] Started")end--// UI STOP/START (giữa bên trái, hơi cao)-- xóa GUI cũ nếu cóif CoreGui:FindFirstChild("PHUCMAX_STOPBTN") then    pcall(function() CoreGui.PHUCMAX_STOPBTN:Destroy() end)endlocal stopGui = Instance.new("ScreenGui")stopGui.Name = "PHUCMAX_STOPBTN"stopGui.ResetOnSpawn = falsestopGui.Parent = CoreGuilocal btn = Instance.new("TextButton")btn.Parent = stopGuibtn.Size = UDim2.new(0,160,0,48)btn.Position = UDim2.new(0,20,0.35,0) -- cao hơn giữabtn.AnchorPoint = Vector2.new(0,0)btn.Text = "⛔ STOP"btn.Font = Enum.Font.GothamBoldbtn.TextSize = 18btn.TextColor3 = Color3.new(1,1,1)btn.BackgroundTransparency = 0btn.BackgroundColor3 = Color3.fromRGB(30,30,30)local corner = Instance.new("UICorner", btn); corner.CornerRadius = UDim.new(0,12)local grad = Instance.new("UIGradient", btn)grad.Color = ColorSequence.new{    ColorSequenceKeypoint.new(0, Color3.fromRGB(255,0,0)),    ColorSequenceKeypoint.new(0.2, Color3.fromRGB(255,255,0)),    ColorSequenceKeypoint.new(0.4, Color3.fromRGB(0,255,0)),    ColorSequenceKeypoint.new(0.6, Color3.fromRGB(0,255,255)),    ColorSequenceKeypoint.new(0.8, Color3.fromRGB(0,0,255)),    ColorSequenceKeypoint.new(1, Color3.fromRGB(255,0,255))}task.spawn(function()    while true do        if not grad or not btn then break end        grad.Rotation = (grad.Rotation + 3) % 360        task.wait(0.03)    endend)-- click toggles stop/startbtn.MouseButton1Click:Connect(function()    if getgenv().ScriptRunning then        StopAll()        btn.Text = "▶️ START"        btn.BackgroundColor3 = Color3.fromRGB(80,80,80)    else        -- if stopped, start loops in-place        StartAll()        btn.Text = "⛔ STOP"        btn.BackgroundColor3 = Color3.fromRGB(30,30,30)    endend)-- Auto start once when injected (since globals default to true)startFruitLoop()--// Serviceslocal Players = game:GetService("Players")local RunService = game:GetService("RunService")local Stats = game:GetService("Stats")local TeleportService = game:GetService("TeleportService")local HttpService = game:GetService("HttpService")local ReplicatedStorage = game:GetService("ReplicatedStorage")local Workspace = game:GetService("Workspace")local LocalPlayer = Players.LocalPlayer--// UI PHUCMAXlocal screenGui = Instance.new("ScreenGui", game.CoreGui)screenGui.Name = "PHUCMAX_UI"screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Globallocal mainFrame = Instance.new("Frame", screenGui)mainFrame.Size = UDim2.new(1,0,1,0)mainFrame.BackgroundTransparency = 1local uiLayout = Instance.new("UIListLayout", mainFrame)uiLayout.HorizontalAlignment = Enum.HorizontalAlignment.CenteruiLayout.VerticalAlignment = Enum.VerticalAlignment.CenteruiLayout.Padding = UDim.new(0,12)local function createRainbowText(text,size)    local label = Instance.new("TextLabel")    label.Size = UDim2.new(0,500,0,size+20)    label.BackgroundTransparency = 1    label.Text = text    label.Font = Enum.Font.GothamBold    label.TextSize = size    label.TextColor3 = Color3.fromRGB(255,255,255)    label.ZIndex = 10    local gradient = Instance.new("UIGradient",label)    gradient.Rotation = 0    gradient.Color = ColorSequence.new{        ColorSequenceKeypoint.new(0, Color3.fromRGB(255,0,0)),        ColorSequenceKeypoint.new(0.2, Color3.fromRGB(255,255,0)),        ColorSequenceKeypoint.new(0.4, Color3.fromRGB(0,255,0)),        ColorSequenceKeypoint.new(0.6, Color3.fromRGB(0,255,255)),        ColorSequenceKeypoint.new(0.8, Color3.fromRGB(0,0,255)),        ColorSequenceKeypoint.new(1, Color3.fromRGB(255,0,255))    }    task.spawn(function()        while task.wait(0.03) do            gradient.Rotation = (gradient.Rotation+3)%360        end    end)    return labelendlocal title = createRainbowText("PHUCMAX",50); title.Parent = mainFramelocal subtitle = createRainbowText("nhattrai",30); subtitle.Parent = mainFramelocal fpsLabel = createRainbowText("FPS: 0",25); fpsLabel.Parent = mainFramelocal pingLabel = createRainbowText("Ping: 0 ms",25); pingLabel.Parent = mainFrame--// Update FPS + Pinglocal frames,lastTime=0,tick()RunService.RenderStepped:Connect(function()    frames+=1    local currentTime = tick()    if currentTime-lastTime>=1 then        fpsLabel.Text="FPS: "..frames        frames=0        lastTime=currentTime    endend)RunService.Heartbeat:Connect(function()    local pingStat = Stats.Network.ServerStatsItem["Data Ping"]    if pingStat then        pingLabel.Text="Ping: "..math.floor(pingStat:GetValue()).." ms"    endend)--// Thông báo góc phải dướilocal notifyFrame = Instance.new("Frame",screenGui)notifyFrame.Size = UDim2.new(0,300,0,200)notifyFrame.Position = UDim2.new(1,-310,1,-260)notifyFrame.BackgroundTransparency = 1local notifyLayout = Instance.new("UIListLayout",notifyFrame)notifyLayout.SortOrder = Enum.SortOrder.LayoutOrdernotifyLayout.Padding = UDim.new(0,5)notifyLayout.VerticalAlignment = Enum.VerticalAlignment.Bottomlocal function Notify(msg)    local note = createRainbowText(msg,20)    note.Parent = notifyFrame    note.Size = UDim2.new(1,0,0,25)    task.delay(2,function() note:Destroy() end)end--// Thêm chữ Discord đầu màn hìnhlocal function createDiscordText(text, size, link)    local button = Instance.new("TextButton")    button.Size = UDim2.new(0, 300, 0, size + 10)    button.Position = UDim2.new(0.5, -150, 0, 0) -- giữa trên cùng    button.BackgroundTransparency = 1    button.Text = text    button.Font = Enum.Font.GothamBold    button.TextSize = size    button.TextColor3 = Color3.fromRGB(255, 255, 255)    button.ZIndex = 20    button.Parent = screenGui    local gradient = Instance.new("UIGradient", button)    gradient.Rotation = 0    gradient.Color = ColorSequence.new{        ColorSequenceKeypoint.new(0, Color3.fromRGB(255,0,0)),        ColorSequenceKeypoint.new(0.2, Color3.fromRGB(255,255,0)),        ColorSequenceKeypoint.new(0.4, Color3.fromRGB(0,255,0)),        ColorSequenceKeypoint.new(0.6, Color3.fromRGB(0,255,255)),        ColorSequenceKeypoint.new(0.8, Color3.fromRGB(0,0,255)),        ColorSequenceKeypoint.new(1, Color3.fromRGB(255,0,255))    }    task.spawn(function()        while task.wait(0.03) do            gradient.Rotation = (gradient.Rotation + 3) % 360        end    end)    -- Khi click thì mở/copy link Discord    button.MouseButton1Click:Connect(function()        if syn and syn.request then            syn.request({Url = link, Method = "GET"})        elseif request then            request({Url = link, Method = "GET"})        else            setclipboard(link)            game.StarterGui:SetCore("SendNotification", {                Title = "PHUCMAX Hub",                Text = "Đã copy link Discord vào clipboard!",                Duration = 5            })        end    end)    return buttonend--// Thêm vào UIlocal discordBtn = createDiscordText(" Discord https://discord.gg/a7rtPheBY6 ", 25, "")--// Auto Join Marinestask.spawn(function()    pcall(function()        local TeamBtn = LocalPlayer.PlayerGui:WaitForChild("ChooseTeam").Container.Marines.Frame.ViewportFrame.TextButton        fireclickdetector(TeamBtn.ClickDetector)        Notify("⚓ Auto Join Marines")    end)end)local function FixLagX2()    -- Giảm chi tiết cơ bản    for _, obj in ipairs(workspace:GetDescendants()) do        if obj:IsA("BasePart") then            obj.Material = Enum.Material.SmoothPlastic            obj.Color = Color3.fromRGB(150,150,150)            obj.Reflectance = 0        elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") then            obj.Enabled = false        end    end    -- Thêm X2    for _, obj in ipairs(workspace:GetDescendants()) do        if obj.Name:match("Leaf") or obj.Name:match("Tree") then            obj:Destroy()        elseif obj:IsA("UnionOperation") or obj:IsA("MeshPart") then            obj.Transparency = 0.9        end    end    -- Giảm ánh sáng    local Lighting = game:GetService("Lighting")    Lighting.GlobalShadows = false    Lighting.Brightness = Lighting.Brightness * 0.3    Notify(" ✅ FixLag X2 applied")    print("✅ FixLag X2 applied")end-- Tự động chạy khi script loadtask.spawn(FixLagX2)--// Auto Store Fruitgetgenv().AutoStoreFruit = truelocal FRUIT_MAP = {    ["Bomb Fruit"]={remote="StoreFruit",arg="Bomb-Bomb"},    ["Spike Fruit"]={remote="StoreFruit",arg="Spike-Spike"},    ["Chop Fruit"]={remote="StoreFruit",arg="Chop-Chop"},    ["Spring Fruit"]={remote="StoreFruit",arg="Spring-Spring"},    ["Kilo Fruit"]={remote="StoreFruit",arg="Rocket-Rocket"},    ["Rocket Fruit"]={remote="StoreFruit",arg="Rocket-Rocket"},    ["Smoke Fruit"]={remote="StoreFruit",arg="Smoke-Smoke"},    ["Spin Fruit"]={remote="StoreFruit",arg="Spin-Spin"},    ["Flame Fruit"]={remote="StoreFruit",arg="Flame-Flame"},    ["Falcon Fruit"]={remote="StoreFruit",arg="Falcon"},    ["Ice Fruit"]={remote="StoreFruit",arg="Ice-Ice"},    ["Sand Fruit"]={remote="StoreFruit",arg="Sand-Sand"},    ["Dark Fruit"]={remote="StoreFruit",arg="Dark-Dark"},    ["Revive Fruit"]={remote="StoreFruit",arg="Ghost-Ghost"},    ["Ghost Fruit"]={remote="StoreFruit",arg="Ghost-Ghost"},    ["Diamond Fruit"]={remote="StoreFruit",arg="Diamond-Diamond"},    ["Light Fruit"]={remote="StoreFruit",arg="Light-Light"},    ["Love Fruit"]={remote="StoreFruit",arg="Love-Love"},    ["Rubber Fruit"]={remote="StoreFruit",arg="Rubber-Rubber"},    ["Barrier Fruit"]={remote="StoreFruit",arg="Barrier-Barrier"},    ["Magma Fruit"]={remote="StoreFruit",arg="Magma-Magma"},    ["Portal Fruit"]={remote="StoreFruit",arg="Door-Door"},    ["Quake Fruit"]={remote="StoreFruit",arg="Quake-Quake"},    ["Buddha Fruit"]={remote="Buddha",arg=nil},    ["Spider Fruit"]={remote="StoreFruit",arg="Spider-Spider"},    ["Phoenix Fruit"]={remote="StoreFruit",arg="Phoenix"},    ["Rumble Fruit"]={remote="StoreFruit",arg="Rumble-Rumble"},    ["Pain Fruit"]={remote="StoreFruit",arg="Pain-Pain"},    ["Gravity Fruit"]={remote="StoreFruit",arg="Gravity-Gravity"},    ["Dough Fruit"]={remote="StoreFruit",arg="Dough-Dough"},    ["Shadow Fruit"]={remote="StoreFruit",arg="Shadow-Shadow"},    ["Venom Fruit"]={remote="StoreFruit",arg="Venom-Venom"},    ["Eagle Fruit"]={remote="StoreFruit",arg="Eagle-Eagle"},    ["creation Fruit"]={remote="StoreFruit",arg="creation-creation"},    ["Lightning Fruit"]={remote="StoreFruit",arg="Lightning-Lightning"},    ["Portal Fruit"]={remote="StoreFruit",arg="Portal-Portal"},    ["Mammoth Fruit"]={remote="StoreFruit",arg="Mammoth-Mammoth"},    ["T-Rex Fruit"]={remote="StoreFruit",arg="T-Rex-T-Rex"},    ["Gas Fruit"]={remote="StoreFruit",arg="Gas-Gas"},    ["Yeti Fruit"]={remote="StoreFruit",arg="Yeti-Yeti"},    ["Kitsune Fruit"]={remote="StoreFruit",arg="Kitsune-Kitsune"},    ["Blade Fruit"]={remote="StoreFruit",arg="Blade-Blade"},    ["Control Fruit"]={remote="StoreFruit",arg="Control-Control"},    ["Spirit Fruit"]={remote="StoreFruit",arg="Soul-Soul"},    ["Dragon Fruit"]={remote="StoreFruit",arg="Dragon-Dragon"},    ["Leopard Fruit"]={remote="StoreFruit",arg="Leopard-Leopard"},}local lastStoreTime = {}local COOLDOWN_PER_FRUIT = 2local function callRemoteStore(remoteName,arg,fruitInstance)    local remoteObj = ReplicatedStorage:FindFirstChild(remoteName) or (ReplicatedStorage:FindFirstChild("Remotes") and ReplicatedStorage.Remotes:FindFirstChild(remoteName))    if not remoteObj then return false,"RemoteNotFound" end    local ok,res=pcall(function()        if remoteName=="StoreFruit" then            return remoteObj:InvokeServer("StoreFruit",arg,fruitInstance)        else            if arg then                return remoteObj:InvokeServer(arg,fruitInstance)            else                return remoteObj:InvokeServer(fruitInstance)            end        end    end)    return ok,resendlocal function checkAndStoreAll()    local player=LocalPlayer    local backpack = player:FindFirstChild("Backpack")    local char = player.Character    for fruitName,info in pairs(FRUIT_MAP) do        local last = lastStoreTime[fruitName] or 0        if tick()-last>=COOLDOWN_PER_FRUIT then            local instanceInChar = char and char:FindFirstChild(fruitName) or            nil            local instanceInBackpack = backpack and backpack:FindFirstChild(fruitName) or nil            local foundInst = instanceInChar or instanceInBackpack            if foundInst then                local ok,res = pcall(function()                    if ReplicatedStorage:FindFirstChild("Remotes") and ReplicatedStorage.Remotes:FindFirstChild("CommF_") and info.remote=="StoreFruit" then                        return ReplicatedStorage.Remotes.CommF_:InvokeServer("StoreFruit",info.arg,foundInst)                    else                        return callRemoteStore(info.remote,info.arg,foundInst)                    end                end)                lastStoreTime[fruitName] = tick()                if ok then                    Notify("Stored "..fruitName)                else                    Notify("Failed "..fruitName)                end            end        end    endendspawn(function()    while true do        if getgenv().AutoStoreFruit then            pcall(checkAndStoreAll)            task.wait(0.6)        else            task.wait(0.8)        end    endend)--// Auto Fruit Finder + ESP + Teleport + Auto Hop_G.AutoFruit = true_G.AutoHop = truelocal joinedServers = {}joinedServers[game.JobId] = truelocal function rainbowColor(hueShift)    return Color3.fromHSV((tick()*0.3 + hueShift)%1,1,1)endlocal function teleportTo(pos)    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then        LocalPlayer.Character:MoveTo(pos)    endendlocal function createESP(obj,text)    if obj:FindFirstChild("FruitESP") then return obj.FruitESP.TextLabel end    local billboard = Instance.new("BillboardGui")    billboard.Name = "FruitESP"    billboard.Adornee = obj    billboard.AlwaysOnTop = true    billboard.Size = UDim2.new(0,200,0,50)    billboard.StudsOffset = Vector3.new(0,2,0)    local label = Instance.new("TextLabel")    label.Size = UDim2.new(1,0,1,0)    label.BackgroundTransparency = 1    label.Text = text    label.Font = Enum.Font.SourceSansBold    label.TextScaled = true    label.TextColor3 = Color3.fromRGB(255,255,255)    label.Parent = billboard    billboard.Parent = obj    RunService.RenderStepped:Connect(function()        if label then            label.TextColor3 = rainbowColor(0)        end    end)    return labelendlocal function serverHop()    local cursor = ""    while true do        local url = string.format("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=100%s",            game.PlaceId,            cursor~="" and "&cursor="..cursor or "")        local req = HttpService:JSONDecode(game:HttpGet(url))        if req and req.data then            for _,s in pairs(req.data) do                if type(s)=="table" and s.id~=game.JobId and s.playing<s.maxPlayers then                    if not joinedServers[s.id] then                        joinedServers[s.id]=true                        TeleportService:TeleportToPlaceInstance(game.PlaceId,s.id,LocalPlayer)                        return                    end                end            end        end        if not req.nextPageCursor then break end        cursor=req.nextPageCursor    endendtask.spawn(function()    while task.wait(0.5) do -- check nhanh hơn (0.5 giây 1 lần)        if _G.AutoFruit then            local foundFruit = false            for _,fruit in pairs(Workspace:GetChildren()) do                if fruit:IsA("Tool") and fruit:FindFirstChild("Handle") then                    foundFruit = true                    createESP(fruit.Handle, fruit.Name)                    teleportTo(fruit.Handle.Position + Vector3.new(0,5,0))                    task.wait(4) -- đứng lại 1s cho chắc                end            end            if not foundFruit and _G.AutoHop then                task.wait(4) -- đợi 4 giây rồi mới hop                -- check lại 1 lần nữa để tránh hop nhầm khi trái cây vừa spawn                local stillNoFruit = true                for _,fruit in pairs(Workspace:GetChildren()) do                    if fruit:IsA("Tool") and fruit:FindFirstChild("Handle") then                        stillNoFruit = false                        break                    end                end                if stillNoFruit then                    serverHop()                end            end        end    endend)--// Auto Join Marines (Updated with Notify)task.spawn(function()    pcall(function()        -- Gọi server để join Marines        local success, err = pcall(function()            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetTeam", "Marines")        end)        if success then            Notify(" ✅ Auto Join Marines")        else            Notify("❌ Join Marines: Thất bại")            warn("Không thể join Marines:", err)        end    end)end)--// Auto Store Fruit (Updated with Notify)spawn(function()    while true do        if getgenv().AutoStoreFruit then            local success, err = pcall(checkAndStoreAll)            if success then                Notify(" ✅auto Stored ")            else                Notify("❌ Store Error")                warn("Store Error:", err)            end            task.wait(0.6)        else            task.wait(0.8)        end    endend)--// Auto Fruit Finder + ESP + Teleport + Auto Hop (Updated with Notify)task.spawn(function()    while task.wait(2) do        if _G.AutoFruit then            local foundFruit = false            for _, fruit in pairs(Workspace:GetChildren()) do                if fruit:IsA("Tool") and fruit:FindFirstChild("Handle") then                    foundFruit = true                    createESP(fruit.Handle, fruit.Name)                    teleportTo(fruit.Handle.Position + Vector3.new(0,5,0))                    Notify("Found Fruit: "..fruit.Name)                    task.wait(4)                end            end            if not foundFruit and _G.AutoHop then                Notify("🔄 No Fruit Found, Server Hop...")                serverHop()            end        end    endend)--// Webhook Settingsgetgenv().WebhookMoon = "https://discord.com/api/webhooks/1417918916080177233/7gGiv9Wr171HWnuRUqJJDDkmX4MIuq1rjoBmZeheKYOObeF-OEUyUpy4512XpkvWwgg5"getgenv().WebhookUser = "https://discord.com/api/webhooks/1417919357371285534/55-jNUPLeIrdZzEdr_wJmYCSKdUWfULnChz2o0BgTxTMyxU9IkXHk1poz9P4NIxw-goq"getgenv().ScriptType = "PHUCMAX NHATTRAI"local HttpService = game:GetService("HttpService")local ReplicatedStorage = game:GetService("ReplicatedStorage")local Players = game:GetService("Players")local LocalPlayer = Players.LocalPlayer-- Thông tin người chơilocal displayName = LocalPlayer.DisplayNamelocal username = LocalPlayer.Name-- Hàm request fallbacklocal req = (syn and syn.request) or request or http_requestif not req then    warn("❌ Executor của mày không hỗ trợ request")end-- Hàm gửi webhooklocal function sendWebhook(url, data)    if not url or url == "" or not req then return end    local success, err = pcall(function()        req({            Url = url,            Method = "POST",            Headers = {["Content-Type"] = "application/json"},            Body = HttpService:JSONEncode(data)        })    end)    if not success then        warn("Webhook Error:", err)    endend-- Notify Full Moonlocal function notifyFullMoon(serverInfo)    local embed = {        ["title"] = "🌕 PHUCMAX Hub Full Moon Notify",        ["color"] = 16737996,        ["fields"] = {            {["name"] = "Become Around", ["value"] = serverInfo.TimeLeft.." Minute(s)", ["inline"] = true},            {["name"] = "Players", ["value"] = serverInfo.Players, ["inline"] = true},            {["name"] = "Moon Phase", ["value"] = serverInfo.MoonPhase, ["inline"] = true},            {["name"] = "Job-Id", ["value"] = serverInfo.JobId, ["inline"] = false},            {                ["name"] = "Script Teleport",                ["value"] = "```lua\ngame:GetService(\"ReplicatedStorage\")._ServerBrowser:InvokeServer(\"teleport\", \""..serverInfo.JobId.."\")\n```",                ["inline"] = false            }        },        ["footer"] = {            ["text"] = getgenv().ScriptType.." | User: "..displayName.."(@"..username..")"        }    }    sendWebhook(getgenv().WebhookMoon, {embeds = {embed}})end-- Notify User (khi bật script)local function notifyUser()    local embed = {        ["title"] = "✅ PHUCMAX Hub User Notify",        ["color"] = 65280,        ["description"] = "**"..displayName.."** (@"..username..") đã chạy script:\n```"..getgenv().ScriptType.."```",        ["footer"] = {["text"] = os.date("Ngày %d/%m/%Y - %H:%M:%S")}    }    sendWebhook(getgenv().WebhookUser, {embeds = {embed}})end-- Check Sealocal function getSea()    local sea = ReplicatedStorage:FindFirstChild("CurrentSea")    return sea and sea.Value or 1end-- Vòng lặp check Full Moontask.spawn(function()    while task.wait(30) do        if getSea() == 3 then            local serverInfo = {                TimeLeft = 6,                Players = tostring(#Players:GetPlayers()).."/12",                MoonPhase = "5/5", -- fake test                JobId = game.JobId            }            if serverInfo.MoonPhase == "5/5" then                notifyFullMoon(serverInfo)            end        end    endend)-- Gửi notify user khi bật scriptnotifyUser()