-- Tool Script Viewer + Copy (RSpy Tool)
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- UI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ToolCodeViewer"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 500, 0, 300)
Frame.Position = UDim2.new(0.5, -250, 0.5, -150)
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
Title.Text = "üìú Tool Script Viewer"
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 20

local Scroll = Instance.new("ScrollingFrame", Frame)
Scroll.Size = UDim2.new(1, -20, 1, -80)
Scroll.Position = UDim2.new(0, 10, 0, 50)
Scroll.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Scroll.BorderSizePixel = 0
Scroll.ScrollBarThickness = 10
Scroll.AutomaticCanvasSize = Enum.AutomaticSize.Y

local CodeBox = Instance.new("TextLabel", Scroll)
CodeBox.Size = UDim2.new(1, -10, 0, 0)
CodeBox.Position = UDim2.new(0, 5, 0, 0)
CodeBox.BackgroundTransparency = 1
CodeBox.TextColor3 = Color3.new(1,1,1)
CodeBox.Font = Enum.Font.Code
CodeBox.TextSize = 14
CodeBox.TextXAlignment = Enum.TextXAlignment.Left
CodeBox.TextYAlignment = Enum.TextYAlignment.Top
CodeBox.TextWrapped = false
CodeBox.Text = ""
CodeBox.AutomaticSize = Enum.AutomaticSize.Y

local CopyButton = Instance.new("TextButton", Frame)
CopyButton.Size = UDim2.new(0, 120, 0, 35)
CopyButton.Position = UDim2.new(0.5, -60, 1, -40)
CopyButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
CopyButton.TextColor3 = Color3.new(1,1,1)
CopyButton.Text = "üìã Sao ch√©p"

-- H√†m load code t·ª´ Tool
local function loadToolCode()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local tool = char:FindFirstChildOfClass("Tool")
    if not tool then
        CodeBox.Text = "-- ‚ö†Ô∏è B·∫°n ch∆∞a c·∫ßm Tool n√†o tr√™n tay!"
        return
    end

    local scriptToCopy = tool:FindFirstChildWhichIsA("LocalScript") or tool:FindFirstChildWhichIsA("ModuleScript")
    if not scriptToCopy then
        CodeBox.Text = "-- ‚ö†Ô∏è Tool '" .. tool.Name .. "' kh√¥ng c√≥ script n√†o ƒë·ªÉ hi·ªÉn th·ªã!"
        return
    end

    -- Hi·ªán code
    local src = scriptToCopy.Source
    CodeBox.Text = src

    -- Copy khi b·∫•m n√∫t
    CopyButton.MouseButton1Click:Connect(function()
        if setclipboard then
            setclipboard(src)
            print("‚úÖ ƒê√£ sao ch√©p code t·ª´ tool: " .. tool.Name)
        else
            warn("‚ùå setclipboard kh√¥ng kh·∫£ d·ª•ng trong m√¥i tr∆∞·ªùng n√†y")
        end
    end)
end

-- G·ªçi khi m·ªü UI
loadToolCode()
